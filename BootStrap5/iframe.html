<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
        <title>Inline Frame usage -- MDN</title>
    </head>
    <body>
        <div>介绍iframe</div>
        <iframe id="inlineFrameExample"
            title="Inline Frame Example"
            width="300"
            height="200"
            src="https://www.openstreetmap.org/export/embed.html?bbox=-0.004017949104309083%2C51.47612752641776%2C0.00030577182769775396%2C51.478569861898606&layer=mapnik"
            onload="frameLoad()">
        </iframe>
        <script>
            function frameLoad(){
                console.log('frame load')
            }

            function accessTest(){
                var link = document.createElement('link')
                link.rel = "stylesheet"
                link.type = "text/css"
                // 这里设置需要检测的url
                // 跨域受限
                // var url = document.getElementById('inlineFrameExample').contentWindow.location.href
                link.href = "https://baidu1.com"
                link.onload = function () {
                    console.log('accessTest success')
                }
                link.onerror = function () {
                    console.log('accessTest fail')
                }
                document.body.appendChild(link)
            }

            accessTest()
        </script>
    </body>
</html>